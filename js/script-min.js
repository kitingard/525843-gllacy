var feedback=document.querySelector(".feedback-btn"),popup=document.querySelector(".modal-form"),close=popup.querySelector(".modal-close-btn"),overlay=document.querySelector(".modal-overlay"),form=popup.querySelector("form"),login=popup.querySelector("[name=name-for-feedback]"),email=popup.querySelector("[name=email-for-feedback]"),textarea=popup.querySelector("[name=feedback-textarea]"),slide1=document.querySelector(".slide-btn1"),slide2=document.querySelector(".slide-btn2"),slide3=document.querySelector(".slide-btn3"),body=document.querySelector("body"),isStorageSupport=!0,loginKey="",emailKey="";try{loginKey=localStorage.getItem("login")}catch(e){isStorageSupport=!1}feedback.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),overlay.classList.add("overlay-show"),loginKey?(login.value=loginKey,email.focus()):login.focus(),emailKey&&(email.value=emailKey)}),form.addEventListener("submit",function(e){login.value&&email.value?isStorageSupport&&(localStorage.setItem("login",login.value),localStorage.setItem("email",email.value)):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"),login.value?login.classList.remove("modal-error-border"):login.classList.add("modal-error-border"),email.value?email.classList.remove("modal-error-border"):email.classList.add("modal-error-border"),textarea.value?login.classList.remove("modal-error-border"):textarea.classList.add("modal-error-border"))}),email.addEventListener("click",function(e){email.classList.contains("modal-error-border")&&(e.preventDefault(),login.classList.remove("modal-error-border"),email.classList.remove("modal-error-border"),textarea.classList.remove("modal-error-border"))}),textarea.addEventListener("click",function(e){textarea.classList.contains("modal-error-border")&&(e.preventDefault(),login.classList.remove("modal-error-border"),email.classList.remove("modal-error-border"),textarea.classList.remove("modal-error-border"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-show")&&(e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"),overlay.classList.remove("overlay-show"))}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),overlay.classList.remove("overlay-show")}),slide1.addEventListener("click",function(e){e.preventDefault(),body.classList.remove("slide2-active"),body.classList.remove("slide3-active"),body.classList.add("slide1-active")}),slide1.addEventListener("click",function(e){e.preventDefault(),slide1.classList.add("slide-btn-current"),slide2.classList.contains("slide-btn-current"),slide2&&slide2.classList.remove("slide-btn-current"),slide3.classList.contains("slide-btn-current"),slide3&&slide3.classList.remove("slide-btn-current")}),slide2.addEventListener("click",function(e){e.preventDefault(),body.classList.remove("slide1-active"),body.classList.remove("slide3-active"),body.classList.add("slide2-active")}),slide2.addEventListener("click",function(e){e.preventDefault(),slide2.classList.add("slide-btn-current"),slide1.classList.contains("slide-btn-current"),slide1&&slide1.classList.remove("slide-btn-current"),slide3.classList.contains("slide-btn-current"),slide3&&slide3.classList.remove("slide-btn-current")}),slide3.addEventListener("click",function(e){e.preventDefault(),body.classList.remove("slide2-active"),body.classList.remove("slide1-active"),body.classList.add("slide3-active")}),slide3.addEventListener("click",function(e){e.preventDefault(),slide3.classList.add("slide-btn-current"),slide1.classList.contains("slide-btn-current"),slide1&&slide1.classList.remove("slide-btn-current"),slide2.classList.contains("slide-btn-current"),slide2&&slide2.classList.remove("slide-btn-current")});